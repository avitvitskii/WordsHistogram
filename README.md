# WordsHistogram
Qt Words Histogram application

### Описание приложения
Приложение подсчитывает топ 15 наиболее часто встречающихся слов в выбранном текстовом файле в режиме реального времени и отображает их в виде гистограммы. Приложение предоставляет возможность выбрать файл для чтения через диалоговое окно. Запуск обработки файла осуществляется с помощью кнопки "Старт".
Прогресс выполнения обработки файла отображается с помощью прогресс-бара. Приложение поддерживает функции паузы и отмены чтения файла с помощью соответствующих кнопок. Приложение является многопоточным, обработка файла происходит в отдельном от UI потоке. Интерфейс приложения адаптивный и учитывает размеры текущего окна.

### Характеристики
- Подсчет количества вхождений слов: Приложение вычисляет количество вхождений каждого уникального слова из текстового файла
- Гистограмма: Результаты отображаются в виде гистограммы, где высота каждого столбца пропорциональна количеству вхождений слова
- Прогресс обработки: Прогресс выполнения анализа текста визуализируется с помощью прогресс-бара
- Кнопки управления: Пользователь может управлять процессом с помощью кнопок:
  - "Открыть": Выбор текстового файла
  - "Старт": Запуск обработки текста
  - "Пауза": Приостановить выполнение обработки
  - "Отмена": Прервать чтение файла

### Архитектура
#### Основные компоненты
1. WordsProcessor (WordsProcessor.cpp, WordsProcessor.h):
  - Singleton класс, отвечающий за обработку текстового файла, вычисление количества вхождений слов и управление состоянием (старт, пауза, отмена)
  - Методы:
    - `void loadFile( const QString &strFilePath )`: Начинает обработку файла, загруженного с помощью `FileDialog` из QML
    - `QVariantList processFile( const QString &strFilePath, std::function< void( int ) > reportProgress )`: Выполняет подсчет слов и передает информацию о прогрессе выполнения
    - `void cancelProcessing()`: Прерывает обработку
    - `void pauseProcessing()`: Приостанавливает обработку
     
  - Сигналы:
    - `void processingCanceled()`: Сообщает о прерывании обработки
    - `void processingPaused()`: Сообщает о приостановки обработки
    - `void processingFinished( const QVariantList &oWordsCount )`: Отправляет результат завершённой обработки
    - `void isProcessingChanged( bool isProcessing )`: Информирует о том, осуществляется ли обработка
    - `void progressChanged( int progress )`: Информирует о прогрессе выполнения обработки
2. QML интерфейс (Main.qml):
  - `ProgressBar`: Отображает прогресс обработки текста
  - Buttons:
    - Открыть: Открывает диалоговое окно для выбора файла
    - Старт: Начинает обработку выбранного файла
    - Пауза: Приостанавливает текущий процесс
    - Отмена: Отменяет обработку и сбрасывает все результаты
  - Гистограмма:
    - Результаты обработки (топ-15 слов по количеству вхождений) передаются в QML через сигнал `processingFinished()`
    - Гистограмма отображается с помощью QML-компонентов, таких как `Row`, `Repeater`, `Rectangle` и `Text`.
  - Адаптивный интерфейс, размерность считается в зависимости от размеров окна в `scaleDimen()`

### Классы и связи:
- WordsProcessor: Главный управляющий класс, который выполняет всю обработку текста. Сигналы из этого класса соединены с QML-компонентами для обновления интерфейса в реальном времени
- QtConcurrent и QFutureWatcher: Используются для осуществления вычислений в отдельном от UI потоке и отслеживания состояния асинхронной обработки
- QML: Отображает интерфейс и взаимодействует с C++ классом через подключение к сигналам и слотам

### Логика работы
1. Пользователь выбирает текстовый файл с помощью кнопки "Открыть"
2. После выбора файла кнопка "Старт" активируется, и пользователь может запустить процесс обработки
3. Обработка текста выполняется в фоновом потоке с использованием QtConcurrent. При этом по мере выполнения обновляется прогресс-бар
4. В любой момент пользователь может приостановить или отменить процесс с помощью кнопок "Пауза" и "Отмена"
5. После завершения обработки на экран выводится гистограмма, отображающая топ-15 самых частых слов в файле
6. Если пользователь отменяет процесс, прогресс сбрасывается, и результаты не отображаются
